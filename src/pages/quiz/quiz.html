<ion-header>
  <ion-navbar>
    <ion-title>
      {{activity.name}}
    </ion-title>
  </ion-navbar>
</ion-header>
  
  <ion-content class="bg">
    <ion-card>
      <ion-item text-wrap>
        <ion-thumbnail item-start>
        <img src="{{'assets/imgs/logoApp.png'}}">
        </ion-thumbnail>
        <h2>{{course_id}}</h2>
        <p>{{course_name}}</p>
      </ion-item>
        <ion-card-content >
          <ion-row>
            <ion-col>
              <button ion-button color="b-create" small block (click)="onClickCreateScanOption0()">
                <div>สแกนเป็นชุด</div>
              </button>
            </ion-col>
            <ion-col>
              <button ion-button color="b-create" small block (click)="onClickCreateScanOption1()">
                <div>สแกนรายบุคคล</div>
              </button>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
      
      <ion-list>
        <div style="padding-left: 5%;" ion-text color="gray">
          <ion-grid>
            <ion-row>
              <ion-col style="text-align: left">
                <div style="padding-top: 15px"><b>{{activity.name}}</b></div>
              </ion-col>
              <ion-col></ion-col>
              <ion-col col-3 style="text-align: right">
                <ion-toggle [(ngModel)]="isToggled"></ion-toggle>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>

        <div *ngIf="isToggled==true">
          <!--ion-item-sliding *ngFor="let item of scheduleQuizList | orderBy:'FIELD_TO_SORT_BY':true ; let odd = odd; let i = index"-->
          <ion-item-sliding *ngFor="let item of scheduleQuizList.slice().reverse() ; let odd = odd; let i = index">
            <ion-item>
              <ion-row>
                <ion-avatar item-start >
                  <div style="font-size: 30px" ion-text [color]="odd ? 'tone1' : 'tone2'">
                    #{{scheduleQuizList.length-i}}
                  </div>
                  <!--img src="{{'assets/imgs/thumbnail/' + i + '.png'}}"-->
                </ion-avatar>
                <div>
                  <!--h2>ครั้งที่ {{i+1}}</h2-->
                  <div style="font-size: 30px" ion-text [color]="odd ? 'tone1' : 'tone2'">
                    <ion-row>
                      <h3>
                        <ion-icon name="calendar"></ion-icon> : {{item.date | date:'dd-MM-yyyy'}}
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <ion-icon name="clock"></ion-icon> : {{item.date | date:'HH:mm'}}
                    </h3>
                    </ion-row>
                  </div>
                  <!--p>เวลาสาย : {{item.lateTime | date:'HH:mm'}}  |  คะแนนสาย : {{item.lateScore}}</p-->
                  <p>
                    <ion-icon name="checkmark" ion-text color="success"></ion-icon>
                    &nbsp;บันทึกคะแนนแล้ว : {{item.count}}/{{studentCount}}
                  </p>   
                </div>
              </ion-row>

            </ion-item>
            <ion-item-options side="right">
              <button ion-button color="secondary" (click)="onClickScanQuiz(item.id, item)">
                <ion-icon name="qr-scanner" style="font-size: 25px"></ion-icon>
                SCAN
              </button>
            </ion-item-options>
              
            <ion-item-options side="left">
              <button ion-button color="danger" (click)="onClickDelete(item.id)">
                <ion-icon name="trash" style="font-size: 25px"></ion-icon>
                Delete
              </button>
            </ion-item-options>
          </ion-item-sliding>
        </div>
      <!--//////////////////////////////////////////////////////////////////////////-->
      <div *ngIf="isToggled==false || isToggled==null">
          <ion-item-sliding *ngFor="let item of scheduleQuizList ; let odd = odd; let i = index">
            <ion-item>
              <ion-row>
                <ion-avatar item-start >
                  <div style="font-size: 30px" ion-text [color]="odd ? 'tone1' : 'tone2'">
                    #{{i+1}}
                  </div>
                  <!--img src="{{'assets/imgs/thumbnail/' + i + '.png'}}"-->
                </ion-avatar>
                <div>
                  <!--h2>ครั้งที่ {{i+1}}</h2-->
                  <div style="font-size: 30px" ion-text [color]="odd ? 'tone1' : 'tone2'">
                    <ion-row>
                      <h3>
                        <ion-icon name="calendar"></ion-icon> : {{item.date | date:'dd-MM-yyyy'}}
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <ion-icon name="clock"></ion-icon> : {{item.date | date:'HH:mm'}}
                    </h3>
                    </ion-row>
                  </div>
                  <!--p>เวลาสาย : {{item.lateTime | date:'HH:mm'}}  |  คะแนนสาย : {{item.lateScore}}</p-->
                  <p>
                    <ion-icon name="checkmark" ion-text color="success"></ion-icon>
                    &nbsp;บันทึกคะแนนแล้ว : {{item.count}}/{{studentCount}}
                  </p>   
                </div>
              </ion-row>

            </ion-item>
            <ion-item-options side="right">
              <button ion-button color="secondary" (click)="onClickScanQuiz(item.id, item)">
                <ion-icon name="qr-scanner" style="font-size: 25px"></ion-icon>
                SCAN
              </button>
            </ion-item-options>
              
            <ion-item-options side="left">
              <button ion-button color="danger" (click)="onClickDelete(item.id)">
                <ion-icon name="trash" style="font-size: 25px"></ion-icon>
                Delete
              </button>
              <button ion-button color="gray" (click)="onClickSetting(item.id, item)">
                <ion-icon name="settings" style="font-size: 25px"></ion-icon>
                Setting
              </button>
            </ion-item-options>
          </ion-item-sliding>
        </div>

      </ion-list>


  </ion-content>
